### TapTapTap Preview
![TapTapTap_Gameplay](https://github.com/user-attachments/assets/9b2eb619-34c5-403a-b9d3-e5703f3f30ca)

### GamePlay
В этой браузерной игре пользователю предстоит испытать свои навыки реакции. Главная цель - попасть по максимально возможному количеству появляющихся объектов на игровом поле и заработать как можно больше баллов.
В качестве игровых объектов инициализированы круги разного размера. Чем меньше круг, тем меньше время его существования и больше баллов за попадание по нему. 

### О проекте
Данный проект представляет из себя небольшую мини-игру, разработанную на шаблонах ASP.NET Core. Элементами данной игры являются круги, включающие в себя 4 параметра: 
цвет, размер, время существования, баллы за попадание.

###### Создание массива игровых объектов
```js
const circles =
    [
        { color: '#ffa8a8d5', size: 100, duration: 3000, point: 1 },
        { color: '#e59797d6', size: 70, duration: 2000, point: 3 },
        { color: '#cf8a8ad9', size: 40, duration: 1000, point: 5 },
    ]
```

Параметр duration играет важную роль в реализации игрового процесса. В случае, если объект существует больше указанного времени - он удаляется из игрового поля.
Также, от duration рассчитывается количество токенов игровой сессии (например, при появлении круга с duration = 3000, из токена 120 вычтится 3).
**Для изменения алгоритмов спавна** см. методы _createCircle и startAnimation_ в .js файле.

Имеются механизмы записи и вывода данных из таблицы, расположенной на локальном SQL Server. Для взаимодействия с таблицей используется директива `Microsoft.Data.SqlClient`.
Таблица PlayerStats включает в себя два столбца: имя игрока (UserName), баллы (Score).

###### Вывод лучших игроков в выпадающий список
```C#
 List<Player> topPlayers = [];

 using (SqlConnection connection = new(connectionString))
 {
     string query = "SELECT TOP 10 UserName, Score FROM PlayerStats ORDER BY Score DESC";

     SqlCommand command = new(query, connection);
     connection.Open();
     using SqlDataReader reader = command.ExecuteReader();
     while (reader.Read())
     {
         topPlayers.Add(new Player
         {
             UserName = reader.GetString(0),
             Score = reader.GetInt16(1)
         });
     }
 }

 ViewData["TopPlayers"] = topPlayers;
```

Через ViewData передается контейнер лучших игроков в представление index.cshtml. Данные из контейнера выводятся в выпадающий список, находящийся в секции LeaderBoard на шапке сайта.

Для записи данных в таблицу сервер использует похожий подход с сочетанием SqlConnection и SqlCommand. Метод SaveScore (_см. HomeController.cs файл_) принимает параметры из js скрипта и использует их для записи в таблицу.
###### Алгоритм передачи данных из js скрипта в контроллер

```js
function saveScore(userName, score) {
    fetch('/Home/SaveScore', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({ userName: userName, score: score })
    })
}
```

### Планы на будущее
Данная игра достаточно сырая и имеет много подходов к исправлениям и улучшениям.

**Возможные будущие изменения:**
- **изменение алгоритмов появления** (отказ от привязки к duration, изменение скорости, добавление определенности (отход от рандомности появления));
- **добавление интерактива** (например, добавление разнообразных объектов, новых игровых механик);
- **работа с анимациями и эффектами** (сделать игровой опыт более динамичным и красочным);
- **переработка дизайна** (изменение цветовой палитры и расположения компонентов, добавление новых панелей);
- **привязка "Лучший счет" к указанному нику игрока**, а не к таблице лидеров;
- **изменение подходов к авторизации** (чтобы не выдавать себя за другого);
- **изменения в LeaderBoard** (создание отдельной вкладки с полными данными, добавление новых параметров по типу точности и игровых сессий, переработка алгоритмов записи данных в БД).
